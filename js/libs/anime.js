!function(t,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof module&&module.exports?module.exports=n():t.anime=n()}(this,function(){var l,n,r,e,t,o={duration:1e3,delay:0,loop:!1,autoplay:!0,direction:"normal",easing:"easeOutElastic",elasticity:400,round:!1,begin:void 0,update:void 0,complete:void 0},a=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skewX","skewY"],d="transform",p={arr:function(t){return Array.isArray(t)},obj:function(t){return-1<Object.prototype.toString.call(t).indexOf("Object")},svg:function(t){return t instanceof SVGElement},dom:function(t){return t.nodeType||p.svg(t)},num:function(t){return!isNaN(parseInt(t))},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return void 0===t},nul:function(t){return"null"==typeof t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return p.hex(t)||p.rgb(t)||p.hsl(t)}},i=(n={},r={Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t,n){if(0===t||1===t)return t;var e=1-Math.min(n,998)/1e3,r=t/1-1,a=e/(2*Math.PI)*Math.asin(1);return-Math.pow(2,10*r)*Math.sin((r-a)*(2*Math.PI)/e)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var n,e=4;t<((n=Math.pow(2,--e))-1)/11;);return 1/Math.pow(4,3-e)-7.5625*Math.pow((3*n-2)/22-t,2)}},["Quad","Cubic","Quart","Quint","Expo"].forEach(function(t,n){r[t]=function(t){return Math.pow(t,n+2)}}),Object.keys(r).forEach(function(t){var e=r[t];n["easeIn"+t]=e,n["easeOut"+t]=function(t,n){return 1-e(1-t,n)},n["easeInOut"+t]=function(t,n){return t<.5?e(2*t,n)/2:1-e(-2*t+2,n)/2},n["easeOutIn"+t]=function(t,n){return t<.5?(1-e(1-2*t,n))/2:(e(2*t-1,n)+1)/2}}),n.linear=function(t){return t},n),u=function(t){return p.str(t)?t:t+""},s=function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},c=function(t){if(p.col(t))return!1;try{return document.querySelectorAll(t)}catch(t){return!1}},f=function(t){return t.reduce(function(t,n){return t.concat(p.arr(n)?f(n):n)},[])},h=function(t){return p.arr(t)?t:(p.str(t)&&(t=c(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])},m=function(t,n){return t.some(function(t){return t===n})},v=function(t){return t.filter(function(t,n,e){return e.indexOf(t)===n})},g=function(t){var n={};for(var e in t)n[e]=t[e];return n},y=function(t,n){for(var e in n)t[e]=p.und(t[e])?n[e]:t[e];return t},b=function(t){return p.rgb(t)?t:p.hex(t)?function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,n,e,r){return n+n+e+e+r+r});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgb("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+")"}(t):p.hsl(t)?function(t){t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t);var n,e,r,a=parseInt(t[1])/360,o=parseInt(t[2])/100,u=parseInt(t[3])/100,i=function(t,n,e){return e<0&&(e+=1),1<e&&(e-=1),e<1/6?t+6*(n-t)*e:e<.5?n:e<2/3?t+(n-t)*(2/3-e)*6:t};if(0==o)n=e=r=u;else{var s=u<.5?u*(1+o):u+o-u*o,c=2*u-s;n=i(c,s,a+1/3),e=i(c,s,a),r=i(c,s,a-1/3)}return"rgb("+255*n+","+255*e+","+255*r+")"}(t):void 0},M=function(t){return/([\+\-]?[0-9|auto\.]+)(%|px|pt|em|rem|in|cm|mm|ex|pc|vw|vh|deg)?/.exec(t)[2]},w=function(t,n,e){return M(n)?n:-1<t.indexOf("translate")?M(e)?n+M(e):n+"px":-1<t.indexOf("rotate")||-1<t.indexOf("skew")?n+"deg":n},x=function(t,n){if(n in t.style)return getComputedStyle(t).getPropertyValue(s(n))||"0"},O=function(t,n){return p.dom(t)&&m(a,n)?"transform":p.dom(t)&&(t.getAttribute(n)||p.svg(t)&&t[n])?"attribute":p.dom(t)&&"transform"!==n&&x(t,n)?"css":p.nul(t[n])||p.und(t[n])?void 0:"object"},k=function(t,n){switch(O(t,n)){case"transform":return function(t,e){var n=-1<e.indexOf("scale")?1:0,r=t.style.transform;if(!r)return n;for(var a=/(\w+)\((.+?)\)/g,o=[],u=[],i=[];o=a.exec(r);)u.push(o[1]),i.push(o[2]);var s=i.filter(function(t,n){return u[n]===e});return s.length?s[0]:n}(t,n);case"css":return x(t,n);case"attribute":return t.getAttribute(n)}return t[n]||0},E=function(t,n,e){if(p.col(n))return b(n);if(M(n))return n;var r=M(t.to)?M(t.to):M(t.from);return!r&&e&&(r=M(e)),r?n+r:n},I=function(t){var n=/-?\d*\.?\d+/g;return{original:t,numbers:u(t).match(n)?u(t).match(n).map(Number):[0],strings:u(t).split(n)}},A=function(t,n,e,r){var a={};if("transform"===e)a.from=t+"("+w(t,n.from,n.to)+")",a.to=t+"("+w(t,n.to)+")";else{var o="css"===e?x(r,t):void 0;a.from=E(n,n.from,o),a.to=E(n,n.to,o)}return{from:I(a.from),to:I(a.to)}},j=function(d,t){var m=[];return d.forEach(function(c,f){var l=c.target;return t.forEach(function(t){var n,e,r,a,o,u=O(l,t.name);if(u){var i=(n=l,e=t.name,r=t.value,a=f,{from:1<(o=h(p.fnc(r)?r(n,a):r)).length?o[0]:k(n,e),to:1<o.length?o[1]:o[0]}),s=g(t);s.animatables=c,s.type=u,s.from=A(t.name,i,s.type,l).from,s.to=A(t.name,i,s.type,l).to,s.round=p.col(i.from)||s.round?1:0,s.delay=(p.fnc(s.delay)?s.delay(l,f,d.length):s.delay)/Y.speed,s.duration=(p.fnc(s.duration)?s.duration(l,f,d.length):s.duration)/Y.speed,m.push(s)}})}),m},P=function(t,n){var e,r,a=j(t,n);return(e=["name","from","to","delay","duration"],r={},a.forEach(function(n){var t=JSON.stringify(e.map(function(t){return n[t]}));r[t]=r[t]||[],r[t].push(n)}),Object.keys(r).map(function(t){return r[t]})).map(function(t){var n=g(t[0]);return n.animatables=t.map(function(t){return t.animatables}),n.totalDuration=n.delay+n.duration,n})},C=function(a,o){a.tweens.forEach(function(t){var n=t.to,e=t.from,r=a.duration-(t.delay+t.duration);t.from=n,t.to=e,o&&(t.delay=r)}),a.reversed=!a.reversed},S=function(t){var n=[],e=[];return t.tweens.forEach(function(t){"css"!==t.type&&"transform"!==t.type||(n.push("css"===t.type?s(t.name):"transform"),t.animatables.forEach(function(t){e.push(t.target)}))}),{properties:v(n).join(", "),elements:v(e)}},T=function(o,t){var r,n,a,u=Math.min(Math.max(t-o.delay,0),o.duration)/o.duration,e=o.to.numbers.map(function(t,n){var e=o.from.numbers[n],r=i[o.easing](u,o.elasticity),a=o.path?function(r,a){var o=r.path,u=r.value*a,t=function(t){var n=t||0,e=1<a?r.value+n:u+n;return o.getPointAtLength(e)},n=t(),e=t(-1),i=t(1);switch(r.name){case"translateX":return n.x;case"translateY":return n.y;case"rotate":return 180*Math.atan2(i.y-e.y,i.x-e.x)/Math.PI}}(o,r):e+r*(t-e);return a=o.round?Math.round(a*o.round)/o.round:a});return r=e,n=o.to.strings,a=o.from.strings,n.reduce(function(t,n,e){return n=n||a[e-1],t+r[e-1]+n})},$=function(t,n){var e;t.currentTime=n,t.progress=n/t.duration*100;for(var r=0;r<t.tweens.length;r++){var a=t.tweens[r];a.currentValue=T(a,n);for(var o=a.currentValue,u=0;u<a.animatables.length;u++){var i=a.animatables[u],s=i.id,c=i.target,f=a.name;switch(a.type){case"css":c.style[f]=o;break;case"attribute":c.setAttribute(f,o);break;case"object":c[f]=o;break;case"transform":e||(e={}),e[s]||(e[s]=[]),e[s].push(o)}}}if(e)for(var r in l||(l=(x(document.body,d)?"":"-webkit-")+d),e)t.animatables[r].target.style[l]=e[r].join(" ")},L=function(t){var n,e={};return e.animatables=(n=(n=t.targets)?f(p.arr(n)?n.map(h):h(n)):[]).map(function(t,n){return{target:t,id:n}}),e.settings=y(t,o),e.properties=function(t,n){var e=[];for(var r in t)if(!o.hasOwnProperty(r)&&"targets"!==r){var a=p.obj(t[r])?g(t[r]):{value:t[r]};a.name=r,e.push(y(a,n))}return e}(t,e.settings),e.tweens=P(e.animatables,e.properties),e.duration=function(t){if(t.length)return Math.max.apply(Math,t.map(function(t){return t.totalDuration}))}(e.tweens)||t.duration,e.delay=function(t){if(t.length)return Math.min.apply(Math,t.map(function(t){return t.delay}))}(e.tweens)||t.delay,e.currentTime=0,e.progress=0,e.ended=!1,e},N=[],V=0,X=(e=function(){V=requestAnimationFrame(t)},t=function(t){if(N.length){for(var n=0;n<N.length;n++)N[n].tick(t);e()}else cancelAnimationFrame(V),V=0},e),Y=function(t){var r=L(t),a={};return r.tick=function(t){r.ended=!1,a.start||(a.start=t),a.current=Math.min(Math.max(a.last+t-a.start,0),r.duration),$(r,a.current);var n=r.settings;a.current>=r.delay&&(n.begin&&n.begin(r),n.begin=void 0,n.update&&n.update(r)),a.current>=r.duration&&(n.loop?(a.start=t,"alternate"===n.direction&&C(r,!0),p.num(n.loop)&&n.loop--):(r.ended=!0,r.pause(),n.complete&&n.complete(r)),a.last=0)},r.seek=function(t){$(r,t/100*r.duration)},r.pause=function(){S(r).elements.forEach(function(t){t.style.removeProperty("will-change")});var t=N.indexOf(r);-1<t&&N.splice(t,1)},r.play=function(t){r.pause(),t&&(r=y(L(y(t,r.settings)),r)),a.start=0,a.last=r.ended?0:r.currentTime;var n,e=r.settings;"reverse"===e.direction&&C(r),"alternate"!==e.direction||e.loop||(e.loop=1),(n=S(r)).elements.forEach(function(t){t.style.willChange=n.properties}),N.push(r),V||X()},r.restart=function(){r.reversed&&C(r),r.pause(),r.seek(0),r.play()},r.settings.autoplay&&r.play(),r};return Y.version="1.1.2",Y.speed=1,Y.list=N,Y.remove=function(t){for(var n=f(p.arr(t)?t.map(h):h(t)),e=N.length-1;0<=e;e--)for(var r=N[e],a=r.tweens,o=a.length-1;0<=o;o--)for(var u=a[o].animatables,i=u.length-1;0<=i;i--)m(n,u[i].target)&&(u.splice(i,1),u.length||a.splice(o,1),a.length||r.pause())},Y.easings=i,Y.getValue=k,Y.path=function(t){var n=p.str(t)?c(t)[0]:t;return{path:n,value:n.getTotalLength()}},Y.random=function(t,n){return Math.floor(Math.random()*(n-t+1))+t},Y});